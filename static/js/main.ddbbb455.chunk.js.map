{"version":3,"sources":["components/ItemsCounter/ItemsCounter.js","components/Header/Header.js","components/Message/Message.js","components/ItemList/ItemList.js","components/AddForm/AddForm.js","components/StatusFilter/StatusFilter.js","components/SearchPanel/SearchPanel.js","components/App/App.js","index.js"],"names":["ItemsCounter","doneCounter","todoCounter","importantCounter","items","todo","length","className","Header","Message","text","ItemList","arr","map","label","id","styles","done","important","props","onClickDone","onClickImportant","onClickDelete","allItems","key","onClick","this","visibleItems","renderElements","message","Component","AddForm","state","customLabel","onInput","e","setState","target","value","onLabelSubmit","preventDefault","onItemAdded","onSubmit","type","placeholder","onChange","StatusFilter","buttons","name","statusStyle","status","onFilterChange","renderButtons","SearchPanel","onSearch","searchValue","App","todos","search","componentDidMount","JSON","parse","localStorage","getItem","searchFilter","filter","el","toLowerCase","includes","addElement","createElement","labelName","toggleProperty","propName","idx","findIndex","item","slice","onDone","onImportant","deleteItem","newArr","prevProps","prevState","setItem","stringify","filterItems","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ddbbb455.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './ItemsCounter.scss';\r\n\r\nconst ItemsCounter = ({ doneCounter, todoCounter, importantCounter, items }) => {\r\n    let todo = '';\r\n    if (todoCounter > 0) {\r\n        todo = `To do: ${todoCounter}, done: ${doneCounter}`;\r\n    }\r\n    if (importantCounter > 0) {\r\n        todo = `To do: ${todoCounter}, important: ${importantCounter}, done: ${doneCounter}`\r\n    }\r\n    if (todoCounter === 0) {\r\n        todo = `All done: ${doneCounter}`\r\n    }\r\n    if (items.length === 0) {\r\n        todo = null\r\n    }\r\n    \r\n    return (\r\n        <span className=\"items-counter\">\r\n            {todo}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default ItemsCounter;","import React from 'react';\r\nimport ItemsCounter from '../ItemsCounter/ItemsCounter';\r\nimport './Header.scss';\r\n\r\nconst Header = ({ doneCounter, todoCounter, importantCounter, items }) => {\r\n    return (\r\n        <div className=\"header\">\r\n            <span className=\"logo\">Todo App</span>\r\n            <ItemsCounter doneCounter={doneCounter}\r\n                          todoCounter={todoCounter}\r\n                          importantCounter={importantCounter}\r\n                          items={items}/>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport './Message.scss';\r\n\r\nconst Message = ({ text }) => {\r\n    return (\r\n        <span className=\"message\">\r\n            <i className=\"fas fa-pen-square\"/>\r\n            {text}\r\n        </span>\r\n    );\r\n}\r\n\r\nexport default Message;","import React, { Component } from 'react';\r\nimport Message from '../Message/Message';\r\n\r\nimport './ItemList.scss';\r\n\r\nexport default class ItemList extends Component {\r\n    \r\n    renderElements(arr) {\r\n        return arr.map(({ label, id, done, important }) => {\r\n            let styles = '';\r\n            if(done) styles += ' done-item';\r\n            if (important) styles += ' important-item';\r\n            \r\n            const { onClickDone, onClickImportant, onClickDelete, allItems } = this.props;\r\n\r\n            return (\r\n                <li key={id}>\r\n                        <span className={styles}>{label}</span>\r\n                        <div className=\"buttons-group\">\r\n                            <i className=\"fas fa-check-square done\"\r\n                                onClick={() => onClickDone(id)} />\r\n                            <i className=\"fa fa-exclamation-circle important\"\r\n                                onClick={() => onClickImportant(id)}/>\r\n                            <i className=\"fas fa-trash-alt delete\"\r\n                                onClick={() => onClickDelete(id, allItems)}/>\r\n                        </div>\r\n                </li>\r\n            )\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const {visibleItems, allItems} = this.props;\r\n        const items = this.renderElements(visibleItems);\r\n\r\n        let message = visibleItems.length === 0 ? <Message \r\n                                                            text=\"It's time to add a new todo!\"/>\r\n                                                            : null;\r\n\r\n        if (visibleItems.length === 0 && allItems.length > 0) {\r\n            message = <Message text=\"No such todos\"/>\r\n        }\r\n        \r\n        return (\r\n            <div className=\"item-list\">\r\n                <ul>\r\n                    {message}\r\n                    {items}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\n\r\nimport './AddForm.scss';\r\n\r\nexport default class AddForm extends Component {\r\n    state = {\r\n        customLabel: ''\r\n    }\r\n\r\n    onInput = (e) => {\r\n        this.setState({\r\n            customLabel: e.target.value\r\n        })\r\n    }\r\n\r\n    onLabelSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { customLabel } = this.state;\r\n        this.setState({ customLabel: '' });\r\n        this.props.onItemAdded(customLabel);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className=\"add-form\"\r\n                  onSubmit={this.onLabelSubmit}>\r\n                <input type=\"text\"\r\n                       placeholder=\"What needs to be done\" \r\n                       onChange={(e) => this.onInput(e)}\r\n                       value={this.state.customLabel}/>\r\n                \r\n            <button type=\"submit\"\r\n                    className=\"add-button\">Add</button>\r\n            </form>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\n\r\nimport './StatusFilter.scss';\r\n\r\nexport default class StatusFilter extends Component {\r\n    state = {\r\n        buttons: [\r\n            {name: 'All'},\r\n            {name: 'Current'},\r\n            {name: 'Done'}\r\n        ]\r\n    }\r\n\r\n    renderButtons(arr) {\r\n\r\n        return arr.map(({ name }) => {\r\n            const isActive = this.props.status === name;\r\n            const statusStyle = isActive ? 'current' : '';\r\n\r\n            return (\r\n                <button className={statusStyle}\r\n                        key={name}\r\n                        onClick={() => this.props.onFilterChange(name)}>\r\n                    {name}\r\n                </button>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const buttons = this.renderButtons(this.state.buttons);\r\n\r\n        return (\r\n            <div className=\"status-filter\">\r\n                {buttons}\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nimport './SearchPanel.scss';\r\n\r\nconst SearchPanel = ({ onSearch, searchValue }) => {\r\n        return (\r\n            <form className=\"search-panel\">\r\n                <input type=\"text\"\r\n                       name=\"todos\"\r\n                       placeholder=\"Search your todos...\"\r\n                       onChange={(e) => onSearch(e)}\r\n                       value={searchValue}\r\n                       >\r\n                </input>\r\n            </form>\r\n        )\r\n}\r\n\r\nexport default SearchPanel;","import React, { Component } from 'react';\r\nimport Header from '../Header/Header';\r\nimport ItemList from '../ItemList/ItemList';\r\nimport AddForm from '../AddForm/AddForm';\r\nimport StatusFilter from '../StatusFilter/StatusFilter';\r\nimport './App.scss';\r\nimport SearchPanel from '../SearchPanel/SearchPanel';\r\n\r\nexport default class App extends Component {\r\n    state = {\r\n        todos: [],\r\n        id: 100,\r\n        customLabel: '',\r\n        status: 'All',\r\n        search: ''\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if (JSON.parse(localStorage.getItem('todos')) !== null) {\r\n            localStorage.getItem('todos') && this.setState({\r\n                todos: JSON.parse(localStorage.getItem('todos')),\r\n                id: JSON.parse(localStorage.getItem('id'))\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.todos !== this.state.todos) {\r\n            localStorage.setItem('todos', JSON.stringify(this.state.todos));\r\n        }\r\n        if (prevState.todos.length !== this.state.todos.length) {\r\n            this.setState(({ id }) => {\r\n                return {\r\n                    id: id + 1\r\n                }\r\n            });\r\n            localStorage.setItem('id', JSON.stringify(this.state.id));\r\n        }\r\n    }\r\n\r\n    searchFilter = (arr, search) => {\r\n        return arr.filter(el => el.label.toLowerCase().includes(search.toLowerCase()))\r\n    }\r\n\r\n    onSearch = (e) => {\r\n        this.setState({ search: e.target.value })\r\n    }\r\n\r\n    addElement = (label) => {\r\n        if (!label || label.length > 35) return;\r\n        this.setState(({todos}) => {\r\n            return {\r\n                todos: [...todos, this.createElement(label)]\r\n            }\r\n        })\r\n    }\r\n\r\n    createElement = (labelName = 'New Todo Item') => {\r\n        return {\r\n            id: this.state.id,\r\n            label: labelName,\r\n            important: false,\r\n            done: false\r\n        }\r\n    }\r\n    \r\n    toggleProperty = (arr, id, propName) => {\r\n        const idx = arr.findIndex((item) => item.id === id);\r\n        const oldItem = arr[idx];\r\n        const value = !oldItem[propName];\r\n    \r\n        const item = { ...arr[idx], [propName]: value } ;\r\n        return [\r\n          ...arr.slice(0, idx),\r\n          item,\r\n          ...arr.slice(idx + 1)\r\n        ];\r\n      };\r\n\r\n    onDone = (id) => {\r\n        this.setState(({ todos }) => {\r\n            const newTodos = this.toggleProperty(todos, id, 'done');\r\n\r\n            return {\r\n                todos: newTodos\r\n            }\r\n        })\r\n    }\r\n\r\n    onImportant = (id) => {\r\n        this.setState(({ todos }) => {\r\n            const newTodos = this.toggleProperty(todos, id, 'important');\r\n\r\n            return {\r\n                todos: newTodos\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteItem = (id, arr) => {\r\n        const idx = arr.findIndex((item) => item.id === id);\r\n        const newArr = [\r\n            ...arr.slice(0, idx),\r\n            ...arr.slice(idx + 1)\r\n        ];\r\n        this.setState({todos: newArr})\r\n    }\r\n\r\n    onFilterChange = (name) => {\r\n        this.setState({\r\n            status: name\r\n        })\r\n    }\r\n    \r\n    filterItems(items, filter) {\r\n        if (filter === 'All') {\r\n            return items;\r\n        } else if (filter === 'Current') {\r\n            return items.filter((item) => !item.done);\r\n        } else if (filter === 'Done') {\r\n            return items.filter((item) => item.done);\r\n        }\r\n      }\r\n\r\n    render() {\r\n        const { todos, status, search } = this.state;\r\n        const visibleItems = this.searchFilter(this.filterItems(todos, status), search);\r\n        const doneCounter = todos.filter(el => el.done).length;\r\n        const todoCounter = todos.filter(el => !el.done).length;\r\n        const importantCounter = todos.filter(el => !el.done && el.important).length;\r\n\r\n        return (\r\n            <div className=\"app\">\r\n                <Header doneCounter={doneCounter}\r\n                        todoCounter={todoCounter}\r\n                        importantCounter={importantCounter}\r\n                        items={todos}/>\r\n                <div className=\"status-panel\">\r\n                    <SearchPanel onSearch={this.onSearch}\r\n                                 searchValue={search}/>\r\n                    <StatusFilter status={this.state.status}\r\n                                  onFilterChange={this.onFilterChange}/>\r\n                </div>\r\n                <ItemList visibleItems={visibleItems}\r\n                          allItems={todos}\r\n                          onClickDone={this.onDone}\r\n                          onClickImportant={this.onImportant}\r\n                          onClickDelete={this.deleteItem}\r\n                          status={this.state.status}/>\r\n                <div className=\"add-elements\">\r\n                    <AddForm onItemAdded={this.addElement}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}